{"ast":null,"code":"import { GeneratorsService } from './generators.service';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./generators.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"./generator-input/generator-input.component\";\nimport * as i6 from \"./load-input/load-input.component\";\n\nfunction AppComponent_app_generator_input_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-generator-input\", 18);\n  }\n\n  if (rf & 2) {\n    const i_r3 = ctx.index;\n    i0.ɵɵproperty(\"id\", i_r3);\n  }\n}\n\nfunction AppComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-load-input\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r5 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", i_r5);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    display: a0\n  };\n};\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(genratorsService, router) {\n      this.genratorsService = genratorsService;\n      this.router = router;\n      this.generatorCount = [];\n      this.loads = [];\n      this.generators = [];\n      this.displayInitialInput = 'none';\n      this.displayGens = 'none';\n      this.displayLoads = 'none';\n      this.show_output = 'none';\n      this.displayIntro = 'block';\n      this.fileContent = '';\n      this.displayAlert = 'none';\n    }\n\n    ngOnInit() {\n      setTimeout(() => {}, 1000);\n    }\n\n    UploadInputs(fileList) {\n      let file = fileList[0];\n      let fileReader = new FileReader();\n      let self = this;\n\n      fileReader.onloadend = function (x) {\n        var enc = new TextDecoder('utf-8');\n\n        if (typeof fileReader.result === 'string') {\n          self.fileContent = fileReader.result;\n          console.log(fileReader.result);\n          self.readInputfile();\n        }\n      };\n\n      fileReader.readAsText(file);\n    }\n\n    readInputfile() {\n      this.no_of_gen = this.genratorsService.getInitialvalue(this.fileContent);\n\n      for (let j = 0; j < this.no_of_gen; j++) {\n        this.genratorsService.addGenerator();\n        this.generatorCount.push(j + 1);\n      }\n\n      this.displayIntro = 'none';\n      this.genratorsService.readInputfile(this.fileContent);\n      this.genratorsService.calculate();\n      this.router.navigate(['/output']);\n      this.ShowOutput();\n    }\n\n    EnterManually() {\n      this.displayIntro = 'none';\n      this.displayInitialInput = 'block';\n    }\n\n    InitializeValues() {\n      if (!this.no_of_gen || !this.total_time) {\n        this.displayAlert = 'block';\n      } else {\n        this.displayAlert = 'none';\n\n        for (let j = 0; j < this.no_of_gen; j++) {\n          this.genratorsService.addGenerator();\n          this.generatorCount.push(j + 1);\n        }\n\n        for (let j = 0; j < this.total_time; j++) {\n          this.loads.push(0);\n        }\n\n        this.displayInitialInput = 'none';\n        this.displayGens = 'block';\n      }\n    }\n\n    CalculateValues() {\n      this.genratorsService.calculate();\n      this.displayGens = 'none';\n      this.displayLoads = 'block';\n    }\n\n    ShowOutput() {\n      this.displayLoads = 'none';\n      this.show_output = 'block';\n    }\n\n    openPDF() {\n      let DATA = document.getElementById('mainBody');\n      html2canvas(DATA).then(canvas => {\n        let fileWidth = 208;\n        let fileHeight = canvas.height * fileWidth / canvas.width;\n        const FILEURI = canvas.toDataURL('image/png');\n        let PDF = new jsPDF('p', 'mm', 'a4');\n        let position = 0;\n        PDF.addImage(FILEURI, 'PNG', 0, position, fileWidth, fileHeight);\n        PDF.save('angular-demo.pdf');\n      });\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.GeneratorsService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    features: [i0.ɵɵProvidersFeature([GeneratorsService])],\n    decls: 41,\n    vars: 19,\n    consts: [[\"preload\", \"true\", \"loop\", \"true\", \"autoplay\", \"true\", \"muted\", \"muted\", \"id\", \"myVideo\"], [\"src\", \"./assets/PSECT_BG.mp4\", \"type\", \"video/mp4\"], [\"id\", \"mainBody\", 1, \"body\"], [1, \"card\", 3, \"ngStyle\"], [1, \"Intro\"], [1, \"madeby\"], [1, \"temp\", 3, \"click\"], [\"for\", \"files\", 1, \"btn\"], [\"id\", \"files\", \"type\", \"file\", 1, \"choose-file\", 2, \"visibility\", \"hidden\", 3, \"change\"], [\"name\", \"no_of_gen\", \"placeholder\", \"Enter number of generators\", \"type\", \"number\", \"min\", \"0\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"total_time\", \"placeholder\", \"Enter total time in hrs\", \"type\", \"number\", \"min\", \"0\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [1, \"Alert\", 3, \"ngStyle\"], [3, \"ngStyle\"], [3, \"id\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [1, \"generator-input-title\"], [4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/output\", 3, \"click\"], [3, \"id\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"video\", 0);\n        i0.ɵɵelement(1, \"source\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h1\");\n        i0.ɵɵtext(6, \"PSECT Project\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\", 5);\n        i0.ɵɵtext(8, \"Made By\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p\");\n        i0.ɵɵtext(10, \"Anand Kumar - 107119017\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\");\n        i0.ɵɵtext(12, \"Shaikh Mohammed Yusuf - 107119113\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"p\");\n        i0.ɵɵtext(14, \"Visweswaran - 107119135\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_15_listener() {\n          return ctx.EnterManually();\n        });\n        i0.ɵɵtext(16, \" Enter Values Manually \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"label\", 7);\n        i0.ɵɵtext(18, \"Upload values from file\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"input\", 8);\n        i0.ɵɵlistener(\"change\", function AppComponent_Template_input_change_19_listener($event) {\n          return ctx.UploadInputs($event.target.files);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 3)(21, \"form\")(22, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.no_of_gen = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_23_listener($event) {\n          return ctx.total_time = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"h5\", 11);\n        i0.ɵɵtext(25, \"All feilds required!!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_26_listener() {\n          return ctx.InitializeValues();\n        });\n        i0.ɵɵtext(27, \"Confirm Values\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(28, \"div\", 12);\n        i0.ɵɵtemplate(29, AppComponent_app_generator_input_29_Template, 1, 1, \"app-generator-input\", 13);\n        i0.ɵɵelementStart(30, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_30_listener() {\n          return ctx.CalculateValues();\n        });\n        i0.ɵɵtext(31, \"Confirm values\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(32, \"div\", 3)(33, \"h5\", 15);\n        i0.ɵɵtext(34, \"Enter load values\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(35, AppComponent_div_35_Template, 2, 1, \"div\", 16);\n        i0.ɵɵelementStart(36, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_36_listener() {\n          return ctx.ShowOutput();\n        });\n        i0.ɵɵtext(37, \"Show Output\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(38, \"router-outlet\");\n        i0.ɵɵelementStart(39, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_39_listener() {\n          return ctx.openPDF();\n        });\n        i0.ɵɵtext(40, \" Print \");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(9, _c0, ctx.displayIntro));\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(11, _c0, ctx.displayInitialInput));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.no_of_gen);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.total_time);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(13, _c0, ctx.displayAlert));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(15, _c0, ctx.displayGens));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.generatorCount);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(17, _c0, ctx.displayLoads));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.loads);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgStyle, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinValidator, i4.NgModel, i4.NgForm, i2.RouterOutlet, i2.RouterLink, i5.GeneratorInputComponent, i6.LoadInputComponent],\n    styles: [\"h1[_ngcontent-%COMP%]{text-align:center;font-size:35pt;font-family:Fjalla One;color:#000;padding-bottom:20px}#myVideo[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;height:100vh;width:100vw;z-index:-100;min-height:103%}.generator-input-title[_ngcontent-%COMP%]{font-size:14pt;line-height:28pt;font-family:Fjalla One;margin-bottom:28pt;color:#2a293e;text-align:center}.Alert[_ngcontent-%COMP%]{color:#ff5f5f;font-size:14pt;font-family:Fjalla One;margin-bottom:28pt;text-align:center}p[_ngcontent-%COMP%]{text-align:center;font-size:12pt;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;color:#2a293e;font-weight:700}.madeby[_ngcontent-%COMP%]{font-weight:lighter;font-size:12pt;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;color:#2a293e}.Intro[_ngcontent-%COMP%]{text-align:center;align-items:center;align-content:center;padding-bottom:40px}.madewith[_ngcontent-%COMP%]{margin:auto 0;text-align:center;color:#000;overflow:hidden;font-size:14pt;line-height:28pt;font-family:Fjalla One}.made[_ngcontent-%COMP%]{display:block;text-align:center}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.temp[_ngcontent-%COMP%]{margin-bottom:20px}input[type=file][_ngcontent-%COMP%]{display:block;margin:0 auto;line-height:0pt}.btn[_ngcontent-%COMP%]{display:block;margin:0 auto;line-height:28pt;padding:0 20px;background:#ffa580;letter-spacing:2px;transition:.2s all ease-in-out;outline:none;border:1px solid black;box-shadow:3px 3px 1px 1px #95a4ff,3px 3px 1px 2px #000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;border-radius:0}.btn[_ngcontent-%COMP%]:hover{background:black;color:#fff;border:1px solid black}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}